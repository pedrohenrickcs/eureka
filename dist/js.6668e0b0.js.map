{"version":3,"sources":["js/modules/load.js","js/utils/url.js","js/components/profile.js","js/components/programs.js","js/controllers/programs.js","js/controllers/levels.js","js/controllers/profile.js","js/components/activitiesUser.js","js/controllers/activitiesUser.js","js/components/users.js","js/controllers/users.js","js/controllers/auth.js","js/index.js"],"names":["loadPage","$","prepend","module","exports","URL","renderTemplateProfile","data","image","name","balance","profileUser","points","miles","currency","toFixed","html","renderTemplatePrograms","profileSubtitle","append","renderTemplateTypeLevels","progresLevelItem","progressLevel","map","item","order","join","require","handlePrograms","id","token","description","ajax","url","type","success","handleTypeLevels","handleLevels","userId","console","log","programId","handleProfileUser","$loadPage","levelId","remove","renderTemplateActivities","date","activityUser","handleActivities","renderTemplateUsers","$allUsers","index","renderUsers","clickUser","on","idUser","show","handleUsers","auth","window"],"mappings":"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","file":"js.6668e0b0.js","sourceRoot":"..","sourcesContent":["'use-strict';\r\n\r\nconst loadPage = () => {\r\n  $('body').prepend('<div class=\"load\"><div></div><div></div></div>')\r\n}\r\n\r\nmodule.exports = loadPage;\r\n","export const URL = 'https://challenge-fielo.herokuapp.com';\r\n","'use-strict';\r\n\r\nconst renderTemplateProfile = (data) => {\r\n  const {\r\n    image,\r\n    name,\r\n    balance\r\n  } = data;\r\n  const svg = '<svg class=\"profile__image-item\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><defs><style>.cls-1{fill:#b3b3b3;fill-rule:evenodd;}.cls-2{fill:#fff;}</style></defs><title>no-profile-picture</title><polygon class=\"cls-1\" points=\"0 0 122.88 0 122.88 122.88 0 122.88 0 0 0 0\"/><path class=\"cls-2\" d=\"M48.64,77.72c.65-1.48,1.24-3.1,1.61-4.19a52.43,52.43,0,0,1-4.22-6L41.76,60.7a12.55,12.55,0,0,1-2.43-6.21,4.94,4.94,0,0,1,.43-2.23,4.1,4.1,0,0,1,1.47-1.71,4.73,4.73,0,0,1,1-.52,107.7,107.7,0,0,1-.2-12.23A16.87,16.87,0,0,1,42.58,35a16.39,16.39,0,0,1,7.22-9.2,22.79,22.79,0,0,1,6.05-2.69c1.37-.39-1.15-4.72.25-4.87,6.79-.7,17.77,5.5,22.51,10.62A16.63,16.63,0,0,1,82.8,39.37l-.27,11.1h0a3.06,3.06,0,0,1,2.25,2.32c.35,1.36,0,3.25-1.18,5.84h0a.37.37,0,0,1-.07.14l-4.87,8a41.6,41.6,0,0,1-6,8.24c.23.32.45.63.66.94,8.25,12.11,19.38,5.88,32.32,15.36l-.38.51v12.82H17.22V91.47h.24a1.14,1.14,0,0,1,.56-.61C26.4,86,45.72,84.35,48.64,77.72Z\"/></svg>'\r\n  const imageSrc = `<img class=\"profile__image-item\" src=\"${image}\" />`\r\n  const validImage = image ? imageSrc : svg;\r\n\r\n  const profileUser = `\r\n        <div>\r\n          <div class=\"profile__image\">${validImage}</div>\r\n          <h2 class=\"profile__name js-profile-name\">${name}</h2>\r\n        </div>\r\n        <div class=\"profile__balance\">\r\n          <div class=\"profile__item\">\r\n            <span class=\"profile__balance-info\">${balance.points}</span>\r\n            <span>Points</span>\r\n          </div>\r\n          <div class=\"profile__item\">\r\n            <span class=\"profile__balance-info\">${balance.miles}</span>\r\n            <span>Miles</span>\r\n          </div>\r\n          <div class=\"profile__item\">\r\n            <span class=\"profile__balance-info\">$${balance.currency.toFixed(1)}</span>\r\n            <span>Currency</span>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n  $('#profile').html(profileUser);\r\n}\r\n\r\nmodule.exports = renderTemplateProfile;\r\n","'use-strict';\r\n\r\nconst renderTemplatePrograms = (data) => {\r\n  const profileSubtitle = `<span class=\"profile__name-subtitle\">${data.name}</span>`;\r\n\r\n  $('.js-profile-name').append(profileSubtitle);\r\n};\r\n\r\nconst renderTemplateTypeLevels = (data, name) => {\r\n\r\n  const progresLevelItem = data.map((item) => {\r\n    const {\r\n      order\r\n    } = item;\r\n\r\n    return `<span class=\"profile__timeline-progress\" data-level=\"${order}\"></span>`;\r\n  });\r\n\r\n  const progressLevel = `\r\n        <div class=\"profile__level\">\r\n          <span>${name}</span>\r\n          <div class=\"profile__timeline\">\r\n            ${progresLevelItem.join('')}\r\n            <span class=\"profile__timeline-progress\" data-level=\"4\"></span>\r\n          </div>\r\n        </div>`;\r\n\r\n  $('#profile').append(progressLevel);\r\n};\r\n\r\nmodule.exports = {\r\n  renderTemplatePrograms,\r\n  renderTemplateTypeLevels\r\n};\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst { renderTemplatePrograms, renderTemplateTypeLevels } = require('../components/programs');\r\n\r\nconst handlePrograms = (id, token, name, description) => {\r\n\r\n  $.ajax({\r\n    url: `${URL}/programs/${id}`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      renderTemplatePrograms(data);\r\n      handleTypeLevels(token, data, name);\r\n    }\r\n  });\r\n};\r\n\r\nconst handleTypeLevels = (token, data, name) => {\r\n  const { id } = data;\r\n\r\n  $.ajax({\r\n    url: `${URL}/programs/${id}/levels`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      renderTemplateTypeLevels(data, name);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = handlePrograms;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handlePrograms = require('./programs');\r\n\r\nconst handleLevels = (userId, token) => {\r\n  $.ajax({\r\n    url: `${URL}/levels/${userId}`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      console.log('LEVELS', data);\r\n\r\n      const { programId, name, description } = data;\r\n\r\n      handlePrograms(programId, token, name, description)\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = handleLevels;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst renderTemplateProfile = require('../components/profile');\r\nconst handleLevels = require('./levels');\r\n\r\nconst handleProfileUser = (id, token) => {\r\n  $.ajax({\r\n    url: `${URL}/users/${id}`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      const $loadPage = $('.load');\r\n      const { levelId } = data;\r\n\r\n      $loadPage.remove();\r\n\r\n      renderTemplateProfile(data)\r\n      handleLevels(levelId, token);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = handleProfileUser;\r\n","'use-strict';\r\n\r\nconst renderTemplateActivities = (data) => {\r\n  data.map((item) => {\r\n    const { date, description, id } = item;\r\n\r\n    const activityUser = `\r\n      <div class=\"activities__timeline\" data-id=\"${id}\">\r\n        <span class=\"activities__date\">${date}</span>\r\n        <h4 class=\"activities__description\">${description}</h4>\r\n      </div>\r\n    `\r\n    $('#activities').append(activityUser);\r\n  })\r\n}\r\n\r\nmodule.exports = renderTemplateActivities;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handleLevels = require('./levels');\r\nconst renderTemplateActivities = require('../components/activitiesUser');\r\n\r\nconst handleActivities = (userId, token) => {\r\n\r\n  $.ajax({\r\n    url: `${URL}/users/${userId}/activities`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      handleLevels(userId, token);\r\n      renderTemplateActivities(data);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = handleActivities;\r\n","'use-strict';\r\n\r\nconst handleProfileUser = require('../controllers/profile');\r\nconst handleActivities = require('../controllers/activitiesUser');\r\nconst loadPage = require('../modules/load');\r\n\r\nconst renderTemplateUsers = (data) => {\r\n  const $allUsers = $('#name .js-users');\r\n\r\n  data.map((item, index) => {\r\n    const {\r\n      image,\r\n      name,\r\n      id,\r\n      balance\r\n    } = item;\r\n\r\n    const svg = '<svg class=\"users__image-item\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><defs><style>.cls-1{fill:#b3b3b3;fill-rule:evenodd;}.cls-2{fill:#fff;}</style></defs><title>no-profile-picture</title><polygon class=\"cls-1\" points=\"0 0 122.88 0 122.88 122.88 0 122.88 0 0 0 0\"/><path class=\"cls-2\" d=\"M48.64,77.72c.65-1.48,1.24-3.1,1.61-4.19a52.43,52.43,0,0,1-4.22-6L41.76,60.7a12.55,12.55,0,0,1-2.43-6.21,4.94,4.94,0,0,1,.43-2.23,4.1,4.1,0,0,1,1.47-1.71,4.73,4.73,0,0,1,1-.52,107.7,107.7,0,0,1-.2-12.23A16.87,16.87,0,0,1,42.58,35a16.39,16.39,0,0,1,7.22-9.2,22.79,22.79,0,0,1,6.05-2.69c1.37-.39-1.15-4.72.25-4.87,6.79-.7,17.77,5.5,22.51,10.62A16.63,16.63,0,0,1,82.8,39.37l-.27,11.1h0a3.06,3.06,0,0,1,2.25,2.32c.35,1.36,0,3.25-1.18,5.84h0a.37.37,0,0,1-.07.14l-4.87,8a41.6,41.6,0,0,1-6,8.24c.23.32.45.63.66.94,8.25,12.11,19.38,5.88,32.32,15.36l-.38.51v12.82H17.22V91.47h.24a1.14,1.14,0,0,1,.56-.61C26.4,86,45.72,84.35,48.64,77.72Z\"/></svg>'\r\n    const imageSrc = `<img class=\"users__image-item\" src=\"${image}\" />`\r\n    const validImage = image ? imageSrc : svg;\r\n\r\n    const renderUsers = `\r\n            <li class=\"users__info js-name\" data-id=${id}>\r\n              <span class=\"users__pos\">${index + 1}</span>\r\n              <span class=\"users__image\">\r\n                ${validImage}\r\n                <span class=\"users__name\">${name}</span>\r\n              </span>\r\n              <span class=\"users__points\">${balance.points}</span>\r\n            </li>\r\n          `\r\n\r\n    $allUsers.append(renderUsers);\r\n  })\r\n};\r\n\r\nconst clickUser = (token) => {\r\n  $('#name .js-name').on('click', function () {\r\n    const idUser = $(this).data('id');\r\n\r\n    loadPage();\r\n\r\n    $('#profile, #activities').show();\r\n\r\n    handleProfileUser(idUser, token);\r\n    handleActivities(idUser, token);\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  renderTemplateUsers,\r\n  clickUser\r\n};\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst { renderTemplateUsers, clickUser } = require('../components/users');\r\n\r\nconst handleUsers = (data) => {\r\n\r\n  const {\r\n    auth,\r\n    token\r\n  } = data;\r\n\r\n  if (auth) {\r\n    $.ajax({\r\n      url: `${URL}/users`,\r\n      type: 'GET',\r\n      'headers': {\r\n        'x-access-token': token\r\n      },\r\n      success: function (data) {\r\n        const $loadPage = $('.load');\r\n\r\n        $loadPage.remove();\r\n\r\n        renderTemplateUsers(data);\r\n        clickUser(token);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = handleUsers;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handleUsers = require('../controllers/users');\r\n\r\nconst auth = () => {\r\n  $.ajax({\r\n    url: `${URL}/auth`,\r\n    type: 'POST',\r\n    'headers': {\r\n      'x-app-id': 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh7uxHjWd1CyRgPD4XHcIPKiDb'\r\n    },\r\n    success: function (data) {\r\n      handleUsers(data);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = auth;\r\n","'use-strict';\r\n\r\nconst loadPage = require('./modules/load');\r\n\r\n(function () {\r\n\r\n  const auth = require('./controllers/auth');\r\n\r\n  loadPage();\r\n\r\n  $(window).on('load', function () {\r\n    auth();\r\n  })\r\n\r\n})();\r\n"]}