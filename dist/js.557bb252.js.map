{"version":3,"sources":["js/modules/load.js","js/utils/url.js","js/components/profile.js","js/components/programs.js","js/controllers/programs.js","js/controllers/levels.js","js/controllers/profile.js","js/components/activitiesUser.js","js/controllers/activitiesUser.js","js/components/users.js","js/controllers/users.js","js/controllers/auth.js","js/index.js"],"names":["loadPage","$","prepend","module","exports","URL","renderTemplateProfile","data","image","name","balance","profileUser","points","miles","currency","toFixed","html","renderTemplatePrograms","profileSubtitle","append","renderTemplateTypeLevels","orderActive","progresLevelItem","map","item","order","validLevel","$levelSubtitle","show","hide","progressLevel","join","require","handlePrograms","id","token","description","ajax","url","type","success","handleTypeLevels","handleLevels","userId","programId","handleProfileUser","$loadPage","levelId","remove","renderTemplateActivities","date","activityUser","handleActivities","renderTemplateUsers","$allUsers","index","renderUsers","clickUser","on","idUser","handleUsers","auth","window"],"mappings":"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","file":"js.557bb252.js","sourceRoot":"..","sourcesContent":["'use-strict';\r\n\r\nconst loadPage = () => {\r\n  $('body').prepend('<div class=\"load\"><div></div><div></div></div>')\r\n}\r\n\r\nmodule.exports = loadPage;\r\n","export const URL = 'https://challenge-fielo.herokuapp.com';\r\n","'use-strict';\r\n\r\nconst renderTemplateProfile = (data) => {\r\n  const {\r\n    image,\r\n    name,\r\n    balance\r\n  } = data;\r\n  const svg = '<svg class=\"profile__image-item\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><defs><style>.cls-1{fill:#b3b3b3;fill-rule:evenodd;}.cls-2{fill:#fff;}</style></defs><title>no-profile-picture</title><polygon class=\"cls-1\" points=\"0 0 122.88 0 122.88 122.88 0 122.88 0 0 0 0\"/><path class=\"cls-2\" d=\"M48.64,77.72c.65-1.48,1.24-3.1,1.61-4.19a52.43,52.43,0,0,1-4.22-6L41.76,60.7a12.55,12.55,0,0,1-2.43-6.21,4.94,4.94,0,0,1,.43-2.23,4.1,4.1,0,0,1,1.47-1.71,4.73,4.73,0,0,1,1-.52,107.7,107.7,0,0,1-.2-12.23A16.87,16.87,0,0,1,42.58,35a16.39,16.39,0,0,1,7.22-9.2,22.79,22.79,0,0,1,6.05-2.69c1.37-.39-1.15-4.72.25-4.87,6.79-.7,17.77,5.5,22.51,10.62A16.63,16.63,0,0,1,82.8,39.37l-.27,11.1h0a3.06,3.06,0,0,1,2.25,2.32c.35,1.36,0,3.25-1.18,5.84h0a.37.37,0,0,1-.07.14l-4.87,8a41.6,41.6,0,0,1-6,8.24c.23.32.45.63.66.94,8.25,12.11,19.38,5.88,32.32,15.36l-.38.51v12.82H17.22V91.47h.24a1.14,1.14,0,0,1,.56-.61C26.4,86,45.72,84.35,48.64,77.72Z\"/></svg>'\r\n  const imageSrc = `<img class=\"profile__image-item\" src=\"${image}\" />`\r\n  const validImage = image ? imageSrc : svg;\r\n\r\n  const profileUser = `\r\n        <div>\r\n          <div class=\"profile__image\">${validImage}</div>\r\n          <h2 class=\"profile__name js-profile-name\">${name}</h2>\r\n        </div>\r\n        <div class=\"profile__balance\">\r\n          <div class=\"profile__item\">\r\n            <span class=\"profile__balance-info\">${balance.points}</span>\r\n            <span>Points</span>\r\n          </div>\r\n          <div class=\"profile__item\">\r\n            <span class=\"profile__balance-info\">${balance.miles}</span>\r\n            <span>Miles</span>\r\n          </div>\r\n          <div class=\"profile__item\">\r\n            <span class=\"profile__balance-info\">$${balance.currency.toFixed(1)}</span>\r\n            <span>Currency</span>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n  $('#profile').html(profileUser);\r\n}\r\n\r\nmodule.exports = renderTemplateProfile;\r\n","'use-strict';\n\nconst renderTemplatePrograms = (data) => {\n  const profileSubtitle = `<span class=\"profile__name-subtitle\">${data.name}</span>`;\n\n  $('.js-profile-name').append(profileSubtitle);\n};\n\nconst renderTemplateTypeLevels = (data, name, orderActive) => {\n\n  const progresLevelItem = data.map((item) => {\n    const {\n      order\n    } = item;\n\n    const validLevel = orderActive === item.order && 'active';\n    const $levelSubtitle = $('.js-levelSubtitle');\n\n    orderActive === 1 ? $levelSubtitle.show() : $levelSubtitle.hide();\n\n    return `<span class=\"profile__timeline-progress ${validLevel}\" data-level=\"${order}\"></span>`;\n  });\n\n  const renderLevelTemplate = `<span class=\"profile__levelSubtitle js-levelSubtitle\">\n              Next Tier\n              <span>Platinum</span>\n            </span>`;\n\n  const validLevel = orderActive === 1 ? renderLevelTemplate : '';\n\n  const progressLevel = `\n        <div class=\"profile__level\">\n          <div class=\"profile__levelTitle\">\n            <span>${name}</span>\n            ${validLevel}\n          </div>\n          <div class=\"profile__timeline\">\n            <span class=\"profile__timeline-progress\" data-level=\"4\"></span>\n            ${progresLevelItem.join('')}\n          </div>\n        </div>`;\n\n  $('#profile').append(progressLevel);\n\n};\n\nmodule.exports = {\n  renderTemplatePrograms,\n  renderTemplateTypeLevels\n}\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst { renderTemplatePrograms, renderTemplateTypeLevels } = require('../components/programs');\r\n\r\nconst handlePrograms = (id, token, name, description, order) => {\r\n\r\n  $.ajax({\r\n    url: `${URL}/programs/${id}`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      renderTemplatePrograms(data);\r\n      handleTypeLevels(token, data, name, order);\r\n    }\r\n  });\r\n};\r\n\r\nconst handleTypeLevels = (token, data, name, order) => {\r\n  const { id } = data;\r\n\r\n  $.ajax({\r\n    url: `${URL}/programs/${id}/levels`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      renderTemplateTypeLevels(data, name, order);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = handlePrograms;\r\n","'use-strict';\n\nimport { URL } from '../utils/url';\n\nconst handlePrograms = require('../controllers/programs');\n\nconst handleLevels = (userId, token) => {\n  $.ajax({\n    url: `${URL}/levels/${userId}`,\n    type: 'GET',\n    'headers': {\n      'x-access-token': token\n    },\n    success: function (data) {\n      const { programId, name, description, order } = data;\n\n      handlePrograms(programId, token, name, description, order)\n    }\n  });\n};\n\nmodule.exports = handleLevels;\n","'use-strict';\n\nimport { URL } from '../utils/url';\n\nconst renderTemplateProfile = require('../components/profile');\nconst handleLevels = require('./levels');\n\nconst handleProfileUser = (id, token) => {\n  $.ajax({\n    url: `${URL}/users/${id}`,\n    type: 'GET',\n    'headers': {\n      'x-access-token': token\n    },\n    success: function (data) {\n      const $loadPage = $('.load');\n      const { levelId } = data;\n\n      $loadPage.remove();\n\n      renderTemplateProfile(data)\n      handleLevels(levelId, token);\n    }\n  });\n}\n\nmodule.exports = handleProfileUser;\n","'use-strict';\r\n\r\nconst renderTemplateActivities = (data) => {\r\n  data.map((item) => {\r\n    const { date, description, id } = item;\r\n\r\n    const activityUser = `\r\n      <div class=\"activities__timeline\" data-id=\"${id}\">\r\n        <span class=\"activities__date\">${date}</span>\r\n        <h4 class=\"activities__description\">${description}</h4>\r\n      </div>\r\n    `\r\n    $('#activities').append(activityUser);\r\n  })\r\n}\r\n\r\nmodule.exports = renderTemplateActivities;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handleLevels = require('./levels');\r\nconst renderTemplateActivities = require('../components/activitiesUser');\r\n\r\nconst handleActivities = (userId, token) => {\r\n\r\n  $.ajax({\r\n    url: `${URL}/users/${userId}/activities`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      handleLevels(userId, token);\r\n      renderTemplateActivities(data);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = handleActivities;\r\n","'use-strict';\r\n\r\nconst handleProfileUser = require('../controllers/profile');\r\nconst handleActivities = require('../controllers/activitiesUser');\r\nconst loadPage = require('../modules/load');\r\n\r\nconst renderTemplateUsers = (data) => {\r\n  const $allUsers = $('#name .js-users');\r\n\r\n  data.map((item, index) => {\r\n    const {\r\n      image,\r\n      name,\r\n      id,\r\n      balance\r\n    } = item;\r\n\r\n    const svg = '<svg class=\"users__image-item\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><defs><style>.cls-1{fill:#b3b3b3;fill-rule:evenodd;}.cls-2{fill:#fff;}</style></defs><title>no-profile-picture</title><polygon class=\"cls-1\" points=\"0 0 122.88 0 122.88 122.88 0 122.88 0 0 0 0\"/><path class=\"cls-2\" d=\"M48.64,77.72c.65-1.48,1.24-3.1,1.61-4.19a52.43,52.43,0,0,1-4.22-6L41.76,60.7a12.55,12.55,0,0,1-2.43-6.21,4.94,4.94,0,0,1,.43-2.23,4.1,4.1,0,0,1,1.47-1.71,4.73,4.73,0,0,1,1-.52,107.7,107.7,0,0,1-.2-12.23A16.87,16.87,0,0,1,42.58,35a16.39,16.39,0,0,1,7.22-9.2,22.79,22.79,0,0,1,6.05-2.69c1.37-.39-1.15-4.72.25-4.87,6.79-.7,17.77,5.5,22.51,10.62A16.63,16.63,0,0,1,82.8,39.37l-.27,11.1h0a3.06,3.06,0,0,1,2.25,2.32c.35,1.36,0,3.25-1.18,5.84h0a.37.37,0,0,1-.07.14l-4.87,8a41.6,41.6,0,0,1-6,8.24c.23.32.45.63.66.94,8.25,12.11,19.38,5.88,32.32,15.36l-.38.51v12.82H17.22V91.47h.24a1.14,1.14,0,0,1,.56-.61C26.4,86,45.72,84.35,48.64,77.72Z\"/></svg>'\r\n    const imageSrc = `<img class=\"users__image-item\" src=\"${image}\" />`\r\n    const validImage = image ? imageSrc : svg;\r\n\r\n    const renderUsers = `\r\n            <li class=\"users__info js-name\" data-id=${id}>\r\n              <span class=\"users__pos\">${index + 1}</span>\r\n              <span class=\"users__image\">\r\n                ${validImage}\r\n                <span class=\"users__name\">${name}</span>\r\n              </span>\r\n              <span class=\"users__points\">${balance.points}</span>\r\n            </li>\r\n          `\r\n\r\n    $allUsers.append(renderUsers);\r\n  })\r\n};\r\n\r\nconst clickUser = (token) => {\r\n  $('#name .js-name').on('click', function () {\r\n    const idUser = $(this).data('id');\r\n\r\n    loadPage();\r\n\r\n    $('#profile, #activities').show();\r\n\r\n    handleProfileUser(idUser, token);\r\n    handleActivities(idUser, token);\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  renderTemplateUsers,\r\n  clickUser\r\n};\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst { renderTemplateUsers, clickUser } = require('../components/users');\r\n\r\nconst handleUsers = (data) => {\r\n\r\n  const {\r\n    auth,\r\n    token\r\n  } = data;\r\n\r\n  if (auth) {\r\n    $.ajax({\r\n      url: `${URL}/users`,\r\n      type: 'GET',\r\n      'headers': {\r\n        'x-access-token': token\r\n      },\r\n      success: function (data) {\r\n        const $loadPage = $('.load');\r\n\r\n        $loadPage.remove();\r\n\r\n        renderTemplateUsers(data);\r\n        clickUser(token);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = handleUsers;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handleUsers = require('../controllers/users');\r\n\r\nconst auth = () => {\r\n  $.ajax({\r\n    url: `${URL}/auth`,\r\n    type: 'POST',\r\n    'headers': {\r\n      'x-app-id': 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh7uxHjWd1CyRgPD4XHcIPKiDb'\r\n    },\r\n    success: function (data) {\r\n      handleUsers(data);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = auth;\r\n","'use-strict';\r\n\r\nconst loadPage = require('./modules/load');\r\n\r\n(function () {\r\n\r\n  const auth = require('./controllers/auth');\r\n\r\n  loadPage();\r\n\r\n  $(window).on('load', function () {\r\n    auth();\r\n  })\r\n\r\n})();\r\n"]}