{"version":3,"sources":["js/modules/load.js","js/utils/url.js","js/components/profile.js","js/components/programs.js","js/controllers/programs.js","js/controllers/levels.js","js/controllers/profile.js","js/components/activitiesUser.js","js/controllers/activitiesUser.js","js/components/users.js","js/controllers/users.js","js/controllers/auth.js","js/index.js"],"names":["loadPage","$","prepend","module","exports","URL","renderTemplateProfile","data","image","name","balance","profileUser","points","miles","currency","toFixed","html","renderTemplatePrograms","profileSubtitle","append","renderTemplateTypeLevels","orderActive","progresLevelItem","map","item","order","validLevel","$levelSubtitle","show","hide","console","log","progressLevel","join","require","handlePrograms","id","token","description","ajax","url","type","success","handleTypeLevels","handleLevels","userId","programId","handleProfileUser","$loadPage","levelId","remove","renderTemplateActivities","date","activityUser","handleActivities","renderTemplateUsers","$allUsers","index","renderUsers","clickUser","on","idUser","handleUsers","auth","window"],"mappings":"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","file":"js.fa1659e9.js","sourceRoot":"..","sourcesContent":["'use-strict';\r\n\r\nconst loadPage = () => {\r\n  $('body').prepend('<div class=\"load\"><div></div><div></div></div>')\r\n}\r\n\r\nmodule.exports = loadPage;\r\n","export const URL = 'https://challenge-fielo.herokuapp.com';\r\n","'use-strict';\n\nconst renderTemplateProfile = (data) => {\n  const {\n    image,\n    name,\n    balance\n  } = data;\n  const svg = '<svg class=\"profile__image-item\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><defs><style>.cls-1{fill:#b3b3b3;fill-rule:evenodd;}.cls-2{fill:#fff;}</style></defs><title>no-profile-picture</title><polygon class=\"cls-1\" points=\"0 0 122.88 0 122.88 122.88 0 122.88 0 0 0 0\"/><path class=\"cls-2\" d=\"M48.64,77.72c.65-1.48,1.24-3.1,1.61-4.19a52.43,52.43,0,0,1-4.22-6L41.76,60.7a12.55,12.55,0,0,1-2.43-6.21,4.94,4.94,0,0,1,.43-2.23,4.1,4.1,0,0,1,1.47-1.71,4.73,4.73,0,0,1,1-.52,107.7,107.7,0,0,1-.2-12.23A16.87,16.87,0,0,1,42.58,35a16.39,16.39,0,0,1,7.22-9.2,22.79,22.79,0,0,1,6.05-2.69c1.37-.39-1.15-4.72.25-4.87,6.79-.7,17.77,5.5,22.51,10.62A16.63,16.63,0,0,1,82.8,39.37l-.27,11.1h0a3.06,3.06,0,0,1,2.25,2.32c.35,1.36,0,3.25-1.18,5.84h0a.37.37,0,0,1-.07.14l-4.87,8a41.6,41.6,0,0,1-6,8.24c.23.32.45.63.66.94,8.25,12.11,19.38,5.88,32.32,15.36l-.38.51v12.82H17.22V91.47h.24a1.14,1.14,0,0,1,.56-.61C26.4,86,45.72,84.35,48.64,77.72Z\"/></svg>'\n  const imageSrc = `<img class=\"profile__image-item\" src=\"${image}\" />`\n  const validImage = image ? imageSrc : svg;\n\n  const profileUser = `\n        <div>\n          <div class=\"profile__image\">${validImage}</div>\n          <h2 class=\"profile__name js-profile-name\">${name}</h2>\n        </div>\n        <div class=\"profile__balance\">\n          <div class=\"profile__item\">\n            <span class=\"profile__balance-info\">${balance.points}</span>\n            <span>Points</span>\n          </div>\n          <div class=\"profile__item\">\n            <span class=\"profile__balance-info\">${balance.miles}</span>\n            <span>Miles</span>\n          </div>\n          <div class=\"profile__item\">\n            <span class=\"profile__balance-info\">$${balance.currency.toFixed(1)}</span>\n            <span>Currency</span>\n          </div>\n        </div>\n      `;\n\n  $('#profile').html(profileUser);\n}\n\nmodule.exports = renderTemplateProfile;\n","'use-strict';\n\nconst renderTemplatePrograms = (data) => {\n  const profileSubtitle = `<span class=\"profile__name-subtitle\">${data.name}</span>`;\n\n  $('.js-profile-name').append(profileSubtitle);\n};\n\nconst renderTemplateTypeLevels = (data, name, orderActive) => {\n\n  const progresLevelItem = data.map((item) => {\n    const {\n      order\n    } = item;\n\n    const validLevel = orderActive === item.order && 'active';\n    const $levelSubtitle = $('.js-levelSubtitle');\n\n    orderActive === 1 ? $levelSubtitle.show() : $levelSubtitle.hide();\n\n    return `<span class=\"profile__timeline-progress ${validLevel}\" data-level=\"${order}\"></span>`;\n  });\n\n  const renderLevelTemplate = `<span class=\"profile__levelSubtitle js-levelSubtitle\">\n              Next Tier\n              <span>Platinum</span>\n            </span>`;\n\n  const validLevel = orderActive === 1 ? renderLevelTemplate : '';\n\n  console.log('orderActive', orderActive);\n\n  const progressLevel = `\n        <div class=\"profile__level\">\n          <div class=\"profile__levelTitle\">\n            <span>${name}</span>\n            ${validLevel}\n          </div>\n          <div class=\"profile__timeline\">\n            <span class=\"profile__timeline-progress\" data-level=\"4\"></span>\n            ${progresLevelItem.join('')}\n          </div>\n        </div>`;\n\n  $('#profile').append(progressLevel);\n\n};\n\nmodule.exports = {\n  renderTemplatePrograms,\n  renderTemplateTypeLevels\n}\n","'use-strict';\n\nimport { URL } from '../utils/url';\n\nconst { renderTemplatePrograms, renderTemplateTypeLevels } = require('../components/programs');\n\nconst handlePrograms = (id, token, name, description, order) => {\n\n  $.ajax({\n    url: `${URL}/programs/${id}`,\n    type: 'GET',\n    'headers': {\n      'x-access-token': token\n    },\n    success: function (data) {\n      renderTemplatePrograms(data);\n      handleTypeLevels(token, data, name, order);\n    }\n  });\n};\n\nconst handleTypeLevels = (token, data, name, order) => {\n  const { id } = data;\n\n  $.ajax({\n    url: `${URL}/programs/${id}/levels`,\n    type: 'GET',\n    'headers': {\n      'x-access-token': token\n    },\n    success: function (data) {\n      renderTemplateTypeLevels(data, name, order);\n    }\n  });\n}\n\nmodule.exports = handlePrograms;\n","'use-strict';\n\nimport { URL } from '../utils/url';\n\nconst handlePrograms = require('../controllers/programs');\n\nconst handleLevels = (userId, token) => {\n  $.ajax({\n    url: `${URL}/levels/${userId}`,\n    type: 'GET',\n    'headers': {\n      'x-access-token': token\n    },\n    success: function (data) {\n      console.log('LEVELS', data);\n\n      const { programId, name, description, order } = data;\n\n      handlePrograms(programId, token, name, description, order)\n    }\n  });\n};\n\nmodule.exports = handleLevels;\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst renderTemplateProfile = require('../components/profile');\r\nconst handleLevels = require('./levels');\r\n\r\nconst handleProfileUser = (id, token) => {\r\n  $.ajax({\r\n    url: `${URL}/users/${id}`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      const $loadPage = $('.load');\r\n      const { levelId } = data;\r\n\r\n      $loadPage.remove();\r\n\r\n      renderTemplateProfile(data)\r\n      handleLevels(levelId, token);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = handleProfileUser;\r\n","'use-strict';\n\nconst renderTemplateActivities = (data) => {\n  data.map((item) => {\n    const { date, description, id } = item;\n\n    const activityUser = `\n      <div class=\"activities__timeline\" data-id=\"${id}\">\n        <span class=\"activities__date\">${date}</span>\n        <h4 class=\"activities__description\">${description}</h4>\n      </div>\n    `\n    $('#activities').append(activityUser);\n  })\n}\n\nmodule.exports = renderTemplateActivities;\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handleLevels = require('./levels');\r\nconst renderTemplateActivities = require('../components/activitiesUser');\r\n\r\nconst handleActivities = (userId, token) => {\r\n\r\n  $.ajax({\r\n    url: `${URL}/users/${userId}/activities`,\r\n    type: 'GET',\r\n    'headers': {\r\n      'x-access-token': token\r\n    },\r\n    success: function (data) {\r\n      handleLevels(userId, token);\r\n      renderTemplateActivities(data);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = handleActivities;\r\n","'use-strict';\n\nconst handleProfileUser = require('../controllers/profile');\nconst handleActivities = require('../controllers/activitiesUser');\nconst loadPage = require('../modules/load');\n\nconst renderTemplateUsers = (data) => {\n  const $allUsers = $('#name .js-users');\n\n  data.map((item, index) => {\n    const {\n      image,\n      name,\n      id,\n      balance\n    } = item;\n\n    const svg = '<svg class=\"users__image-item\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><defs><style>.cls-1{fill:#b3b3b3;fill-rule:evenodd;}.cls-2{fill:#fff;}</style></defs><title>no-profile-picture</title><polygon class=\"cls-1\" points=\"0 0 122.88 0 122.88 122.88 0 122.88 0 0 0 0\"/><path class=\"cls-2\" d=\"M48.64,77.72c.65-1.48,1.24-3.1,1.61-4.19a52.43,52.43,0,0,1-4.22-6L41.76,60.7a12.55,12.55,0,0,1-2.43-6.21,4.94,4.94,0,0,1,.43-2.23,4.1,4.1,0,0,1,1.47-1.71,4.73,4.73,0,0,1,1-.52,107.7,107.7,0,0,1-.2-12.23A16.87,16.87,0,0,1,42.58,35a16.39,16.39,0,0,1,7.22-9.2,22.79,22.79,0,0,1,6.05-2.69c1.37-.39-1.15-4.72.25-4.87,6.79-.7,17.77,5.5,22.51,10.62A16.63,16.63,0,0,1,82.8,39.37l-.27,11.1h0a3.06,3.06,0,0,1,2.25,2.32c.35,1.36,0,3.25-1.18,5.84h0a.37.37,0,0,1-.07.14l-4.87,8a41.6,41.6,0,0,1-6,8.24c.23.32.45.63.66.94,8.25,12.11,19.38,5.88,32.32,15.36l-.38.51v12.82H17.22V91.47h.24a1.14,1.14,0,0,1,.56-.61C26.4,86,45.72,84.35,48.64,77.72Z\"/></svg>'\n    const imageSrc = `<img class=\"users__image-item\" src=\"${image}\" />`\n    const validImage = image ? imageSrc : svg;\n\n    const renderUsers = `\n            <li class=\"users__info js-name\" data-id=${id}>\n              <span class=\"users__pos\">${index + 1}</span>\n              <span class=\"users__image\">\n                ${validImage}\n                <span class=\"users__name\">${name}</span>\n              </span>\n              <span class=\"users__points\">${balance.points}</span>\n            </li>\n          `\n\n    $allUsers.append(renderUsers);\n  })\n};\n\nconst clickUser = (token) => {\n  $('#name .js-name').on('click', function () {\n    const idUser = $(this).data('id');\n\n    loadPage();\n\n    $('#profile, #activities').show();\n\n    handleProfileUser(idUser, token);\n    handleActivities(idUser, token);\n  });\n};\n\nmodule.exports = {\n  renderTemplateUsers,\n  clickUser\n};\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst { renderTemplateUsers, clickUser } = require('../components/users');\r\n\r\nconst handleUsers = (data) => {\r\n\r\n  const {\r\n    auth,\r\n    token\r\n  } = data;\r\n\r\n  if (auth) {\r\n    $.ajax({\r\n      url: `${URL}/users`,\r\n      type: 'GET',\r\n      'headers': {\r\n        'x-access-token': token\r\n      },\r\n      success: function (data) {\r\n        const $loadPage = $('.load');\r\n\r\n        $loadPage.remove();\r\n\r\n        renderTemplateUsers(data);\r\n        clickUser(token);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = handleUsers;\r\n","'use-strict';\r\n\r\nimport { URL } from '../utils/url';\r\n\r\nconst handleUsers = require('../controllers/users');\r\n\r\nconst auth = () => {\r\n  $.ajax({\r\n    url: `${URL}/auth`,\r\n    type: 'POST',\r\n    'headers': {\r\n      'x-app-id': 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh7uxHjWd1CyRgPD4XHcIPKiDb'\r\n    },\r\n    success: function (data) {\r\n      handleUsers(data);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = auth;\r\n","'use-strict';\r\n\r\nconst loadPage = require('./modules/load');\r\n\r\n(function () {\r\n\r\n  const auth = require('./controllers/auth');\r\n\r\n  loadPage();\r\n\r\n  $(window).on('load', function () {\r\n    auth();\r\n  })\r\n\r\n})();\r\n"]}